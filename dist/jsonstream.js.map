{"version":3,"sources":["webpack://jsonstream/webpack/universalModuleDefinition","webpack://jsonstream/webpack/bootstrap","webpack://jsonstream/./lib/all.ts","webpack://jsonstream/./lib/mapimage.ts","webpack://jsonstream/./node_modules/canvas/index.js","webpack://jsonstream/./node_modules/canvas/lib/DOMMatrix.js","webpack://jsonstream/./node_modules/canvas/lib/bindings.js","webpack://jsonstream/./node_modules/canvas/lib/canvas.js","webpack://jsonstream/./node_modules/canvas/lib/context2d.js","webpack://jsonstream/./node_modules/canvas/lib/image.js","webpack://jsonstream/./node_modules/canvas/lib/jpegstream.js","webpack://jsonstream/./node_modules/canvas/lib/parse-font.js","webpack://jsonstream/./node_modules/canvas/lib/pdfstream.js","webpack://jsonstream/./node_modules/canvas/lib/pngstream.js","webpack://jsonstream/./node_modules/decompress-response/index.js","webpack://jsonstream/./node_modules/mimic-response/index.js","webpack://jsonstream/./node_modules/once/once.js","webpack://jsonstream/./node_modules/simple-concat/index.js","webpack://jsonstream/./node_modules/simple-get/index.js","webpack://jsonstream/./node_modules/wrappy/wrappy.js","webpack://jsonstream/external \"fs\"","webpack://jsonstream/external \"http\"","webpack://jsonstream/external \"https\"","webpack://jsonstream/external \"querystring\"","webpack://jsonstream/external \"stream\"","webpack://jsonstream/external \"url\"","webpack://jsonstream/external \"util\"","webpack://jsonstream/external \"zlib\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;AClFA,qEAA2B;;;;;;;;;;;;;;;ACA3B,mFAAiC;AAEjC,SAAgB,WAAW;IAEzB,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC7C,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAEpC,GAAG,CAAC,WAAW,GAAG,oBAAoB,CAAC;IACvC,GAAG,CAAC,SAAS,EAAE,CAAC;IAChB,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACnB,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;IACpB,GAAG,CAAC,MAAM,EAAE,CAAC;IACb,OAAO,MAAM,CAAC,eAAe,EAAE,CAAC;AAClC,CAAC;AAXD,kCAWC;;;;;;;;;;;;;;;;;;;;;;;ACbD,eAAe,mBAAO,CAAC,yDAAc;AACrC,cAAc,mBAAO,CAAC,uDAAa;AACnC,iCAAiC,mBAAO,CAAC,+DAAiB;AAC1D,kBAAkB,mBAAO,CAAC,iEAAkB;AAC5C,oBAAoB,mBAAO,CAAC,wIAAgB;AAC5C,iBAAiB,mBAAO,CAAC,6DAAgB;AACzC,WAAW,mBAAO,CAAC,cAAI;AACvB,kBAAkB,mBAAO,CAAC,+DAAiB;AAC3C,kBAAkB,mBAAO,CAAC,+DAAiB;AAC3C,mBAAmB,mBAAO,CAAC,iEAAkB;AAC7C,kBAAkB,mBAAO,CAAC,+DAAiB;AAC3C,iBAAiB,mBAAO,CAAC,+DAAiB;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B,WAAW;AACrC,8BAA8B,WAAW;;AAEzC;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,qBAAqB,iDAAiD;AACtE;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnFY;;AAEZ,aAAa,mBAAO,CAAC,kBAAM;;AAE3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8DAA8D,KAAK;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+DAA+D,KAAK;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,KAAK;AAC9B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,WAAW;AACX,YAAY;AACZ,kBAAkB,gBAAgB;AAClC;;AAEA;AACA;AACA,cAAc,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO;AAC5E,gBAAgB,wBAAwB;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;AAC9G,QAAQ,kBAAkB,2BAA2B,qBAAqB,oCAAoC;;AAE9G,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;AACtF,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;AACtF,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;AACtF,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;AACtF,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;AACtF,MAAM,kBAAkB,kBAAkB,qBAAqB,uBAAuB;;AAEtF,SAAS,kBAAkB,qBAAqB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB,mBAAmB,OAAO;AAC1B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kD;AACA;AACA;;AAEA,kD;AACA;AACA;;AAEA,kBAAkB;;;;;;;;;;;;;ACjeL;;AAEb,iBAAiB,mBAAO,CAAC,qFAA8B;;;;;;;;;;;;;ACF1C;;AAEb;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,yDAAY;AACrC;AACA,kBAAkB,mBAAO,CAAC,2DAAa;AACvC,kBAAkB,mBAAO,CAAC,2DAAa;AACvC,kBAAkB,mBAAO,CAAC,2DAAa;AACvC,mBAAmB,mBAAO,CAAC,6DAAc;AACzC;AACA,aAAa,mBAAO,CAAC,kBAAM;;AAE3B;AACA;AACA,oBAAoB,WAAW,GAAG,YAAY;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,cAAc;AAC/D;AACA;AACA;AACA,6CAA6C,cAAc;;AAE3D;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP,gBAAgB;AAChB;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,MAAM,SAAS,uBAAuB;AAC7D,KAAK;AACL,GAAG;AACH,mBAAmB,MAAM,SAAS,6CAA6C;AAC/E;AACA;;;;;;;;;;;;;AChHY;;AAEZ;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,yDAAY;AACrC,kBAAkB,mBAAO,CAAC,6DAAc;AACxC,OAAO,YAAY,GAAG,mBAAO,CAAC,2DAAa;;AAE3C;AACA;;;;;;;;;;;;;ACba;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,yDAAY;AACrC;AACA,aAAa,mBAAO,CAAC,kBAAM;;AAE3B;AACA;;AAEA,OAAO,qBAAqB;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,OAAO,wCAAwC;AAC/C;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,wBAAwB,mBAAO,CAAC,sDAAY;;AAE5C;AACA;;AAEA;AACA,8DAA8D,eAAe;AAC7E;;AAEA;AACA,SAAS;AACT,OAAO,OAAO;AACd;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC5Fa;;AAEb;AACA;AACA;AACA;AACA;;AAEA,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AC5CY;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrGa;;AAEb;AACA;AACA;;AAEA,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACtCa;;AAEb;AACA;AACA;AACA;AACA;;AAEA,eAAe,mBAAO,CAAC,sBAAQ;AAC/B,WAAW,mBAAO,CAAC,kBAAM;;AAEzB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AC7Ca;AACb,oBAAoB,mBAAO,CAAC,sBAAQ;AACpC,aAAa,mBAAO,CAAC,kBAAM;AAC3B,sBAAsB,mBAAO,CAAC,8DAAgB;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;;AAEA;AACA;;;;;;;;;;;;;AC5Ba;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC/BA,aAAa,mBAAO,CAAC,+CAAQ;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACbA;;AAEA,eAAe,mBAAO,CAAC,4DAAe;AACtC,2BAA2B,mBAAO,CAAC,wEAAqB;AACxD,aAAa,mBAAO,CAAC,kBAAM;AAC3B,cAAc,mBAAO,CAAC,oBAAO;AAC7B,aAAa,mBAAO,CAAC,yCAAM;AAC3B,oBAAoB,mBAAO,CAAC,gCAAa;AACzC,YAAY,mBAAO,CAAC,gBAAK;;AAEzB;;AAEA;AACA,wBAAwB,mBAAmB,8BAA8B,YAAY;AACrF;;AAEA;AACA,WAAW,uCAAuC;AAClD;AACA;AACA,8BAA8B,uCAAuC;AACrE;;AAEA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA,CAAC;AACD;AACA,0CAA0C;AAC1C,oCAAoC,+BAA+B;AACnE;AACA,CAAC;;;;;;;;;;;;AClGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;;;;;;;;;;;AChCA,+B;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,iC","file":"jsonstream.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jsonstream\"] = factory();\n\telse\n\t\troot[\"jsonstream\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/all.ts\");\n","export * from './mapimage';\n","import * as Canvas from \"canvas\";\n\nexport function createImage(): ReadableStream\n{\n  const canvas = Canvas.createCanvas(200, 200);\n  const ctx = canvas.getContext('2d');\n\n  ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';\n  ctx.beginPath();\n  ctx.lineTo(30, 30);\n  ctx.lineTo(170, 30);\n  ctx.stroke();\n  return canvas.createPNGStream();\n}\n","const Canvas = require('./lib/canvas')\nconst Image = require('./lib/image')\nconst CanvasRenderingContext2D = require('./lib/context2d')\nconst parseFont = require('./lib/parse-font')\nconst packageJson = require('./package.json')\nconst bindings = require('./lib/bindings')\nconst fs = require('fs')\nconst PNGStream = require('./lib/pngstream')\nconst PDFStream = require('./lib/pdfstream')\nconst JPEGStream = require('./lib/jpegstream')\nconst DOMMatrix = require('./lib/DOMMatrix').DOMMatrix\nconst DOMPoint = require('./lib/DOMMatrix').DOMPoint\n\nfunction createCanvas (width, height, type) {\n  return new Canvas(width, height, type)\n}\n\nfunction createImageData (array, width, height) {\n  return new bindings.ImageData(array, width, height)\n}\n\nfunction loadImage (src) {\n  return new Promise((resolve, reject) => {\n    const image = new Image()\n\n    function cleanup () {\n      image.onload = null\n      image.onerror = null\n    }\n\n    image.onload = () => { cleanup(); resolve(image) }\n    image.onerror = (err) => { cleanup(); reject(err) }\n\n    image.src = src\n  })\n}\n\n/**\n * Resolve paths for registerFont. Must be called *before* creating a Canvas\n * instance.\n * @param src {string} Path to font file.\n * @param fontFace {{family: string, weight?: string, style?: string}} Object\n * specifying font information. `weight` and `style` default to `\"normal\"`.\n */\nfunction registerFont (src, fontFace) {\n  // TODO this doesn't need to be on Canvas; it should just be a static method\n  // of `bindings`.\n  return Canvas._registerFont(fs.realpathSync(src), fontFace)\n}\n\nmodule.exports = {\n  Canvas,\n  Context2d: CanvasRenderingContext2D, // Legacy/compat export\n  CanvasRenderingContext2D,\n  CanvasGradient: bindings.CanvasGradient,\n  CanvasPattern: bindings.CanvasPattern,\n  Image,\n  ImageData: bindings.ImageData,\n  PNGStream,\n  PDFStream,\n  JPEGStream,\n  DOMMatrix,\n  DOMPoint,\n\n  registerFont,\n  parseFont,\n\n  createCanvas,\n  createImageData,\n  loadImage,\n\n  backends: bindings.Backends,\n\n  /** Library version. */\n  version: packageJson.version,\n  /** Cairo version. */\n  cairoVersion: bindings.cairoVersion,\n  /** jpeglib version. */\n  jpegVersion: bindings.jpegVersion,\n  /** gif_lib version. */\n  gifVersion: bindings.gifVersion ? bindings.gifVersion.replace(/[^.\\d]/g, '') : undefined,\n  /** freetype version. */\n  freetypeVersion: bindings.freetypeVersion\n}\n","'use strict'\n\nconst util = require('util')\n\n// DOMMatrix per https://drafts.fxtf.org/geometry/#DOMMatrix\n\nfunction DOMPoint(x, y, z, w) {\n  if (!(this instanceof DOMPoint)) {\n    throw new TypeError(\"Class constructors cannot be invoked without 'new'\")\n  }\n\n  if (typeof x === 'object') {\n    w = x.w\n    z = x.z\n    y = x.y\n    x = x.x\n  }\n  this.x = typeof x === 'number' ? x : 0\n  this.y = typeof y === 'number' ? y : 0\n  this.z = typeof z === 'number' ? z : 0\n  this.w = typeof w === 'number' ? w : 1\n}\n\n// Constants to index into _values (col-major)\nconst M11 = 0, M12 = 1, M13 = 2, M14 = 3\nconst M21 = 4, M22 = 5, M23 = 6, M24 = 7\nconst M31 = 8, M32 = 9, M33 = 10, M34 = 11\nconst M41 = 12, M42 = 13, M43 = 14, M44 = 15\n\nconst DEGREE_PER_RAD = 180 / Math.PI\nconst RAD_PER_DEGREE = Math.PI / 180\n\nfunction parseMatrix(init) {\n  var parsed = init.replace(/matrix\\(/, '')\n  parsed = parsed.split(/,/, 7) // 6 + 1 to handle too many params\n  if (parsed.length !== 6) throw new Error(`Failed to parse ${init}`)\n  parsed = parsed.map(parseFloat)\n  return [\n    parsed[0], parsed[1], 0, 0,\n    parsed[2], parsed[3], 0, 0,\n    0, 0, 1, 0,\n    parsed[4], parsed[5], 0, 1\n  ]\n}\n\nfunction parseMatrix3d(init) {\n  var parsed = init.replace(/matrix3d\\(/, '')\n  parsed = parsed.split(/,/, 17) // 16 + 1 to handle too many params\n  if (parsed.length !== 16) throw new Error(`Failed to parse ${init}`)\n  return parsed.map(parseFloat)\n}\n\nfunction parseTransform(tform) {\n  var type = tform.split(/\\(/, 1)[0]\n  switch (type) {\n    case 'matrix':\n      return parseMatrix(tform)\n    case 'matrix3d':\n      return parseMatrix3d(tform)\n    // TODO This is supposed to support any CSS transform value.\n    default:\n      throw new Error(`${type} parsing not implemented`)\n  }\n}\n\nfunction DOMMatrix (init) {\n  if (!(this instanceof DOMMatrix)) {\n    throw new TypeError(\"Class constructors cannot be invoked without 'new'\")\n  }\n\n  this._is2D = true\n  this._values = new Float64Array([\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ])\n\n  var i\n\n  if (typeof init === 'string') { // parse CSS transformList\n    if (init === '') return // default identity matrix\n    var tforms = init.split(/\\)\\s+/, 20).map(parseTransform)\n    if (tforms.length === 0) return\n    init = tforms[0]\n    for (i = 1; i < tforms.length; i++) init = multiply(tforms[i], init)\n  }\n\n  i = 0\n  if (init && init.length === 6) {\n    setNumber2D(this, M11, init[i++])\n    setNumber2D(this, M12, init[i++])\n    setNumber2D(this, M21, init[i++])\n    setNumber2D(this, M22, init[i++])\n    setNumber2D(this, M41, init[i++])\n    setNumber2D(this, M42, init[i++])\n  } else if (init && init.length === 16) {\n    setNumber2D(this, M11, init[i++])\n    setNumber2D(this, M12, init[i++])\n    setNumber3D(this, M13, init[i++])\n    setNumber3D(this, M14, init[i++])\n    setNumber2D(this, M21, init[i++])\n    setNumber2D(this, M22, init[i++])\n    setNumber3D(this, M23, init[i++])\n    setNumber3D(this, M24, init[i++])\n    setNumber3D(this, M31, init[i++])\n    setNumber3D(this, M32, init[i++])\n    setNumber3D(this, M33, init[i++])\n    setNumber3D(this, M34, init[i++])\n    setNumber2D(this, M41, init[i++])\n    setNumber2D(this, M42, init[i++])\n    setNumber3D(this, M43, init[i++])\n    setNumber3D(this, M44, init[i])\n  } else if (init !== undefined) {\n    throw new TypeError('Expected string or array.')\n  }\n}\n\nDOMMatrix.fromMatrix = function (init) {\n  if (!(init instanceof DOMMatrix)) throw new TypeError('Expected DOMMatrix')\n  return new DOMMatrix(init._values)\n}\nDOMMatrix.fromFloat32Array = function (init) {\n  if (!(init instanceof Float32Array)) throw new TypeError('Expected Float32Array')\n  return new DOMMatrix(init)\n}\nDOMMatrix.fromFloat64Array = function (init) {\n  if (!(init instanceof Float64Array)) throw new TypeError('Expected Float64Array')\n  return new DOMMatrix(init)\n}\n\n// TODO || is for Node.js pre-v6.6.0\nDOMMatrix.prototype[util.inspect.custom || 'inspect'] = function (depth, options) {\n  if (depth < 0) return '[DOMMatrix]'\n\n  return `DOMMatrix [\n    a: ${this.a}\n    b: ${this.b}\n    c: ${this.c}\n    d: ${this.d}\n    e: ${this.e}\n    f: ${this.f}\n    m11: ${this.m11}\n    m12: ${this.m12}\n    m13: ${this.m13}\n    m14: ${this.m14}\n    m21: ${this.m21}\n    m22: ${this.m22}\n    m23: ${this.m23}\n    m23: ${this.m23}\n    m31: ${this.m31}\n    m32: ${this.m32}\n    m33: ${this.m33}\n    m34: ${this.m34}\n    m41: ${this.m41}\n    m42: ${this.m42}\n    m43: ${this.m43}\n    m44: ${this.m44}\n    is2D: ${this.is2D}\n    isIdentity: ${this.isIdentity} ]`\n}\n\nDOMMatrix.prototype.toString = function () {\n  return this.is2D ?\n    `matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.e}, ${this.f})` :\n    `matrix3d(${this._values.join(', ')})`\n}\n\n/**\n * Checks that `value` is a number and sets the value.\n */\nfunction setNumber2D(receiver, index, value) {\n  if (typeof value !== 'number') throw new TypeError('Expected number')\n  return receiver._values[index] = value\n}\n\n/**\n * Checks that `value` is a number, sets `_is2D = false` if necessary and sets\n * the value.\n */\nfunction setNumber3D(receiver, index, value) {\n  if (typeof value !== 'number') throw new TypeError('Expected number')\n  if (index === M33 || index === M44) {\n    if (value !== 1) receiver._is2D = false\n  } else if (value !== 0) receiver._is2D = false\n  return receiver._values[index] = value\n}\n\nObject.defineProperties(DOMMatrix.prototype, {\n  m11: {get: function () { return this._values[M11] }, set: function (v) { return setNumber2D(this, M11, v) }},\n  m12: {get: function () { return this._values[M12] }, set: function (v) { return setNumber2D(this, M12, v) }},\n  m13: {get: function () { return this._values[M13] }, set: function (v) { return setNumber3D(this, M13, v) }},\n  m14: {get: function () { return this._values[M14] }, set: function (v) { return setNumber3D(this, M14, v) }},\n  m21: {get: function () { return this._values[M21] }, set: function (v) { return setNumber2D(this, M21, v) }},\n  m22: {get: function () { return this._values[M22] }, set: function (v) { return setNumber2D(this, M22, v) }},\n  m23: {get: function () { return this._values[M23] }, set: function (v) { return setNumber3D(this, M23, v) }},\n  m24: {get: function () { return this._values[M24] }, set: function (v) { return setNumber3D(this, M24, v) }},\n  m31: {get: function () { return this._values[M31] }, set: function (v) { return setNumber3D(this, M31, v) }},\n  m32: {get: function () { return this._values[M32] }, set: function (v) { return setNumber3D(this, M32, v) }},\n  m33: {get: function () { return this._values[M33] }, set: function (v) { return setNumber3D(this, M33, v) }},\n  m34: {get: function () { return this._values[M34] }, set: function (v) { return setNumber3D(this, M34, v) }},\n  m41: {get: function () { return this._values[M41] }, set: function (v) { return setNumber2D(this, M41, v) }},\n  m42: {get: function () { return this._values[M42] }, set: function (v) { return setNumber2D(this, M42, v) }},\n  m43: {get: function () { return this._values[M43] }, set: function (v) { return setNumber3D(this, M43, v) }},\n  m44: {get: function () { return this._values[M44] }, set: function (v) { return setNumber3D(this, M44, v) }},\n\n  a: {get: function () { return this.m11 }, set: function (v) { return this.m11 = v }},\n  b: {get: function () { return this.m12 }, set: function (v) { return this.m12 = v }},\n  c: {get: function () { return this.m21 }, set: function (v) { return this.m21 = v }},\n  d: {get: function () { return this.m22 }, set: function (v) { return this.m22 = v }},\n  e: {get: function () { return this.m41 }, set: function (v) { return this.m41 = v }},\n  f: {get: function () { return this.m42 }, set: function (v) { return this.m42 = v }},\n\n  is2D: {get: function () { return this._is2D }}, // read-only\n\n  isIdentity: {\n    get: function () {\n      var values = this._values\n      return values[M11] === 1 && values[M12] === 0 && values[M13] === 0 && values[M14] === 0 &&\n             values[M21] === 0 && values[M22] === 1 && values[M23] === 0 && values[M24] === 0 &&\n             values[M31] === 0 && values[M32] === 0 && values[M33] === 1 && values[M34] === 0 &&\n             values[M41] === 0 && values[M42] === 0 && values[M43] === 0 && values[M44] === 1\n    }\n  }\n})\n\n/**\n * Instantiates a DOMMatrix, bypassing the constructor.\n * @param {Float64Array} values Value to assign to `_values`. This is assigned\n *   without copying (okay because all usages are followed by a  multiply).\n */\nfunction newInstance(values) {\n  var instance = Object.create(DOMMatrix.prototype)\n  instance.constructor = DOMMatrix\n  instance._is2D = true\n  instance._values = values\n  return instance\n}\n\nfunction multiply(A, B) {\n  var dest = new Float64Array(16)\n  for (var i = 0; i < 4; i++) {\n    for (var j = 0; j < 4; j++) {\n      var sum = 0\n      for (var k = 0; k < 4; k++) {\n        sum += A[i * 4 + k] * B[k * 4 + j]\n      }\n      dest[i * 4 + j] = sum\n    }\n  }\n  return dest\n}\n\nDOMMatrix.prototype.multiply = function (other) {\n  return newInstance(this._values).multiplySelf(other)\n}\nDOMMatrix.prototype.multiplySelf = function (other) {\n  this._values = multiply(other._values, this._values)\n  if (!other.is2D) this._is2D = false\n  return this\n}\nDOMMatrix.prototype.preMultiplySelf = function (other) {\n  this._values = multiply(this._values, other._values)\n  if (!other.is2D) this._is2D = false\n  return this\n}\n\nDOMMatrix.prototype.translate = function (tx, ty, tz) {\n  return newInstance(this._values).translateSelf(tx, ty, tz)\n}\nDOMMatrix.prototype.translateSelf = function (tx, ty, tz) {\n  if (typeof tx !== 'number') tx = 0\n  if (typeof ty !== 'number') ty = 0\n  if (typeof tz !== 'number') tz = 0\n  this._values = multiply([\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    tx, ty, tz, 1\n  ], this._values)\n  if (tz !== 0) this._is2D = false\n  return this\n}\n\nDOMMatrix.prototype.scale = function (scaleX, scaleY, scaleZ, originX, originY, originZ) {\n  return newInstance(this._values).scaleSelf(scaleX, scaleY, scaleZ, originX, originY, originZ)\n}\nDOMMatrix.prototype.scale3d = function (scale, originX, originY, originZ) {\n  return newInstance(this._values).scale3dSelf(scale, originX, originY, originZ)\n}\nDOMMatrix.prototype.scale3dSelf = function (scale, originX, originY, originZ) {\n  return this.scaleSelf(scale, scale, scale, originX, originY, originZ)\n}\nDOMMatrix.prototype.scaleSelf = function (scaleX, scaleY, scaleZ, originX, originY, originZ) {\n  // Not redundant with translate's checks because we need to negate the values later.\n  if (typeof originX !== 'number') originX = 0\n  if (typeof originY !== 'number') originY = 0\n  if (typeof originZ !== 'number') originZ = 0\n  this.translateSelf(originX, originY, originZ)\n  if (typeof scaleX !== 'number') scaleX = 1\n  if (typeof scaleY !== 'number') scaleY = scaleX\n  if (typeof scaleZ !== 'number') scaleZ = 1\n  this._values = multiply([\n    scaleX, 0, 0, 0,\n    0, scaleY, 0, 0,\n    0, 0, scaleZ, 0,\n    0, 0, 0, 1\n  ], this._values)\n  this.translateSelf(-originX, -originY, -originZ)\n  if (scaleZ !== 1 || originZ !== 0) this._is2D = false\n  return this\n}\n\nDOMMatrix.prototype.rotateFromVector = function (x, y) {\n  return newInstance(this._values).rotateFromVectorSelf(x, y)\n}\nDOMMatrix.prototype.rotateFromVectorSelf = function (x, y) {\n  if (typeof x !== 'number') x = 0\n  if (typeof y !== 'number') y = 0\n  var theta = (x === 0 && y === 0) ? 0 : Math.atan2(y, x) * DEGREE_PER_RAD\n  return this.rotateSelf(theta)\n}\nDOMMatrix.prototype.rotate = function (rotX, rotY, rotZ) {\n  return newInstance(this._values).rotateSelf(rotX, rotY, rotZ)\n}\nDOMMatrix.prototype.rotateSelf = function (rotX, rotY, rotZ) {\n  if (rotY === undefined && rotZ === undefined) {\n    rotZ = rotX\n    rotX = rotY = 0\n  }\n  if (typeof rotY !== 'number') rotY = 0\n  if (typeof rotZ !== 'number') rotZ = 0\n  if (rotX !== 0 || rotY !== 0) this._is2D = false\n  rotX *= RAD_PER_DEGREE\n  rotY *= RAD_PER_DEGREE\n  rotZ *= RAD_PER_DEGREE\n  var c, s\n  c = Math.cos(rotZ)\n  s = Math.sin(rotZ)\n  this._values = multiply([\n    c, s, 0, 0,\n    -s, c, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ], this._values)\n  c = Math.cos(rotY)\n  s = Math.sin(rotY)\n  this._values = multiply([\n    c, 0, -s, 0,\n    0, 1, 0, 0,\n    s, 0, c, 0,\n    0, 0, 0, 1\n  ], this._values)\n  c = Math.cos(rotX)\n  s = Math.sin(rotX)\n  this._values = multiply([\n    1, 0, 0, 0,\n    0, c, s, 0,\n    0, -s, c, 0,\n    0, 0, 0, 1\n  ], this._values)\n  return this\n}\n\nDOMMatrix.prototype.rotateAxisAngle = function (x, y, z, angle) {\n  return newInstance(this._values).rotateAxisAngleSelf(x, y, z, angle)\n}\nDOMMatrix.prototype.rotateAxisAngleSelf = function (x, y, z, angle) {\n  if (typeof x !== 'number') x = 0\n  if (typeof y !== 'number') y = 0\n  if (typeof z !== 'number') z = 0\n  // Normalize axis\n  var length = Math.sqrt(x * x + y * y + z * z)\n  if (length === 0) return this\n  if (length !== 1) {\n    x /= length\n    y /= length\n    z /= length\n  }\n  angle *= RAD_PER_DEGREE\n  var c = Math.cos(angle)\n  var s = Math.sin(angle)\n  var t = 1 - c\n  var tx = t * x\n  var ty = t * y\n  // NB: This is the generic transform. If the axis is a major axis, there are\n  // faster transforms.\n  this._values = multiply([\n    tx * x + c,      tx * y + s * z,  tx * z - s * y,  0,\n    tx * y - s * z,  ty * y + c,      ty * z + s * x,  0,\n    tx * z + s * y,  ty * z - s * x,  t * z * z + c,   0,\n    0,               0,               0,               1\n  ], this._values)\n  if (x !== 0 || y !== 0) this._is2D = false\n  return this\n}\n\nDOMMatrix.prototype.skewX = function (sx) {\n  return newInstance(this._values).skewXSelf(sx)\n}\nDOMMatrix.prototype.skewXSelf = function (sx) {\n  if (typeof sx !== 'number') return this\n  var t = Math.tan(sx * RAD_PER_DEGREE)\n  this._values = multiply([\n    1, 0, 0, 0,\n    t, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ], this._values)\n  return this\n}\n\nDOMMatrix.prototype.skewY = function (sy) {\n  return newInstance(this._values).skewYSelf(sy)\n}\nDOMMatrix.prototype.skewYSelf = function (sy) {\n  if (typeof sy !== 'number') return this\n  var t = Math.tan(sy * RAD_PER_DEGREE)\n  this._values = multiply([\n    1, t, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ], this._values)\n  return this\n}\n\nDOMMatrix.prototype.flipX = function () { \n  return newInstance(multiply([\n    -1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ], this._values))\n}\nDOMMatrix.prototype.flipY = function () {\n  return newInstance(multiply([\n    1, 0, 0, 0,\n    0, -1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n  ], this._values))\n}\n\nDOMMatrix.prototype.inverse = function () {\n  return newInstance(this._values).invertSelf()\n}\nDOMMatrix.prototype.invertSelf = function () {\n  // If not invertible, set all attributes to NaN and is2D to false\n  throw new Error('Not implemented')\n}\n\nDOMMatrix.prototype.setMatrixValue = function (transformList) {\n  var temp = new DOMMatrix(transformList)\n  this._values = temp._values\n  this._is2D = temp._is2D\n  return this\n}\n\nDOMMatrix.prototype.transformPoint = function (point) {\n  point = new DOMPoint(point)\n  var x = point.x\n  var y = point.y\n  var z = point.z\n  var w = point.w\n  var values = this._values\n  var nx = values[M11] * x + values[M21] * y + values[M31] * z + values[M41] * w\n  var ny = values[M12] * x + values[M22] * y + values[M32] * z + values[M42] * w\n  var nz = values[M13] * x + values[M23] * y + values[M33] * z + values[M43] * w\n  var nw = values[M14] * x + values[M24] * y + values[M34] * z + values[M44] * w\n  return new DOMPoint(nx, ny, nz, nw)\n}\n\nDOMMatrix.prototype.toFloat32Array = function () { \n  return Float32Array.from(this._values)\n}\n\nDOMMatrix.prototype.toFloat64Array = function () { \n  return this._values.slice(0)\n}\n\nmodule.exports = {DOMMatrix, DOMPoint}\n","'use strict';\n\nmodule.exports = require('../build/Release/canvas.node');\n","'use strict';\n\n/*!\n * Canvas\n * Copyright (c) 2010 LearnBoost <tj@learnboost.com>\n * MIT Licensed\n */\n\nconst bindings = require('./bindings')\nconst Canvas = module.exports = bindings.Canvas\nconst Context2d = require('./context2d')\nconst PNGStream = require('./pngstream')\nconst PDFStream = require('./pdfstream')\nconst JPEGStream = require('./jpegstream')\nconst FORMATS = ['image/png', 'image/jpeg']\nconst util = require('util')\n\n// TODO || is for Node.js pre-v6.6.0\nCanvas.prototype[util.inspect.custom || 'inspect'] = function () {\n  return `[Canvas ${this.width}x${this.height}]`\n}\n\nCanvas.prototype.getContext = function (contextType, contextAttributes) {\n  if ('2d' == contextType) {\n    var ctx = this._context2d || (this._context2d = new Context2d(this, contextAttributes));\n    this.context = ctx;\n    ctx.canvas = this;\n    return ctx;\n  }\n};\n\nCanvas.prototype.pngStream =\nCanvas.prototype.createPNGStream = function(options){\n  return new PNGStream(this, options);\n};\n\nCanvas.prototype.pdfStream =\nCanvas.prototype.createPDFStream = function(options){\n  return new PDFStream(this, options);\n};\n\nCanvas.prototype.jpegStream =\nCanvas.prototype.createJPEGStream = function(options){\n  return new JPEGStream(this, options);\n};\n\nCanvas.prototype.toDataURL = function(a1, a2, a3){\n  // valid arg patterns (args -> [type, opts, fn]):\n  // [] -> ['image/png', null, null]\n  // [qual] -> ['image/png', null, null]\n  // [undefined] -> ['image/png', null, null]\n  // ['image/png'] -> ['image/png', null, null]\n  // ['image/png', qual] -> ['image/png', null, null]\n  // [fn] -> ['image/png', null, fn]\n  // [type, fn] -> [type, null, fn]\n  // [undefined, fn] -> ['image/png', null, fn]\n  // ['image/png', qual, fn] -> ['image/png', null, fn]\n  // ['image/jpeg', fn] -> ['image/jpeg', null, fn]\n  // ['image/jpeg', opts, fn] -> ['image/jpeg', opts, fn]\n  // ['image/jpeg', qual, fn] -> ['image/jpeg', {quality: qual}, fn]\n  // ['image/jpeg', undefined, fn] -> ['image/jpeg', null, fn]\n  // ['image/jpeg'] -> ['image/jpeg', null, fn]\n  // ['image/jpeg', opts] -> ['image/jpeg', opts, fn]\n  // ['image/jpeg', qual] -> ['image/jpeg', {quality: qual}, fn]\n\n  var type = 'image/png';\n  var opts = {};\n  var fn;\n\n  if ('function' === typeof a1) {\n    fn = a1;\n  } else {\n    if ('string' === typeof a1 && FORMATS.includes(a1.toLowerCase())) {\n      type = a1.toLowerCase();\n    }\n\n    if ('function' === typeof a2) {\n      fn = a2;\n    } else {\n      if ('object' === typeof a2) {\n        opts = a2;\n      } else if ('number' === typeof a2) {\n        opts = {quality: Math.max(0, Math.min(1, a2))};\n      }\n\n      if ('function' === typeof a3) {\n        fn = a3;\n      } else if (undefined !== a3) {\n        throw new TypeError(typeof a3 + ' is not a function');\n      }\n    }\n  }\n\n  if (this.width === 0 || this.height === 0) {\n    // Per spec, if the bitmap has no pixels, return this string:\n    var str = \"data:,\";\n    if (fn) {\n      setTimeout(() => fn(null, str));\n      return;\n    } else {\n      return str;\n    }\n  }\n\n  if (fn) {\n    this.toBuffer((err, buf) => {\n      if (err) return fn(err);\n      fn(null, `data:${type};base64,${buf.toString('base64')}`);\n    }, type, opts)\n  } else {\n    return `data:${type};base64,${this.toBuffer(type, opts).toString('base64')}`\n  }\n};\n","'use strict'\n\n/*!\n * Canvas - Context2d\n * Copyright (c) 2010 LearnBoost <tj@learnboost.com>\n * MIT Licensed\n */\n\nconst bindings = require('./bindings')\nconst parseFont = require('./parse-font')\nconst { DOMMatrix } = require('./DOMMatrix')\n\nbindings.CanvasRenderingContext2dInit(DOMMatrix, parseFont)\nmodule.exports = bindings.CanvasRenderingContext2d\n","'use strict';\n\n/*!\n * Canvas - Image\n * Copyright (c) 2010 LearnBoost <tj@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nconst bindings = require('./bindings')\nconst Image = module.exports = bindings.Image\nconst util = require('util')\n\n// Lazily loaded simple-get\nlet get;\n\nconst {GetSource, SetSource} = bindings;\n\nObject.defineProperty(Image.prototype, 'src', {\n  /**\n   * src setter. Valid values:\n   *  * `data:` URI\n   *  * Local file path\n   *  * HTTP or HTTPS URL\n   *  * Buffer containing image data (i.e. not a `data:` URI stored in a Buffer)\n   *\n   * @param {String|Buffer} val filename, buffer, data URI, URL\n   * @api public\n   */\n  set(val) {\n    if (typeof val === 'string') {\n      if (/^\\s*data:/.test(val)) { // data: URI\n        const commaI = val.indexOf(',')\n        // 'base64' must come before the comma\n        const isBase64 = val.lastIndexOf('base64', commaI) !== -1\n        const content = val.slice(commaI + 1)\n        setSource(this, Buffer.from(content, isBase64 ? 'base64' : 'utf8'), val);\n      } else if (/^\\s*https?:\\/\\//.test(val)) { // remote URL\n        const onerror = err => {\n          if (typeof this.onerror === 'function') {\n            this.onerror(err)\n          } else {\n            throw err\n          }\n        }\n\n        if (!get) get = require('simple-get');\n\n        get.concat(val, (err, res, data) => {\n          if (err) return onerror(err)\n\n          if (res.statusCode < 200 || res.statusCode >= 300) {\n            return onerror(new Error(`Server responded with ${res.statusCode}`))\n          }\n\n          setSource(this, data)\n        })\n      } else { // local file path assumed\n        setSource(this, val);\n      }\n    } else if (Buffer.isBuffer(val)) {\n      setSource(this, val);\n    }\n  },\n\n  get() {\n    // TODO https://github.com/Automattic/node-canvas/issues/118\n    return getSource(this);\n  },\n\n  configurable: true\n});\n\n// TODO || is for Node.js pre-v6.6.0\nImage.prototype[util.inspect.custom || 'inspect'] = function(){\n  return '[Image'\n    + (this.complete ? ':' + this.width + 'x' + this.height : '')\n    + (this.src ? ' ' + this.src : '')\n    + (this.complete ? ' complete' : '')\n    + ']';\n};\n\nfunction getSource(img){\n  return img._originalSource || GetSource.call(img);\n}\n\nfunction setSource(img, src, origSrc){\n  SetSource.call(img, src);\n  img._originalSource = origSrc;\n}\n","'use strict';\n\n/*!\n * Canvas - JPEGStream\n * Copyright (c) 2010 LearnBoost <tj@learnboost.com>\n * MIT Licensed\n */\n\nvar Readable = require('stream').Readable;\nvar util = require('util');\n\nvar JPEGStream = module.exports = function JPEGStream(canvas, options) {\n  if (!(this instanceof JPEGStream)) {\n    throw new TypeError(\"Class constructors cannot be invoked without 'new'\");\n  }\n\n  if (canvas.streamJPEGSync === undefined) {\n    throw new Error(\"node-canvas was built without JPEG support.\");\n  }\n\n  Readable.call(this);\n\n  this.options = options;\n  this.canvas = canvas;\n};\n\nutil.inherits(JPEGStream, Readable);\n\nfunction noop() {}\n\nJPEGStream.prototype._read = function _read() {\n  // For now we're not controlling the c++ code's data emission, so we only\n  // call canvas.streamJPEGSync once and let it emit data at will.\n  this._read = noop;\n  var self = this;\n  self.canvas.streamJPEGSync(this.options, function(err, chunk){\n    if (err) {\n      self.emit('error', err);\n    } else if (chunk) {\n      self.push(chunk);\n    } else {\n      self.push(null);\n    }\n  });\n};\n","'use strict'\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00'\n  , styles = 'italic|oblique'\n  , variants = 'small-caps'\n  , stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded'\n  , units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q'\n  , string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'\n\n// [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp('(' + weights + ') +', 'i')\nconst styleRe = new RegExp('(' + styles + ') +', 'i')\nconst variantRe = new RegExp('(' + variants + ') +', 'i')\nconst stretchRe = new RegExp('(' + stretches + ') +', 'i')\nconst sizeFamilyRe = new RegExp(\n  '([\\\\d\\\\.]+)(' + units + ') *'\n  + '((?:' + string + ')( *, *(?:' + string + '))*)')\n\n/**\n * Cache font parsing.\n */\n\nconst cache = {}\n\nconst defaultHeight = 16 // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = function (str) {\n  // Cached\n  if (cache[str]) return cache[str]\n\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str)\n  if (!sizeFamily) return // invalid\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }\n\n  // Optional, unordered properties.\n  let weight, style, variant, stretch\n  // Stop search at `sizeFamily.index`\n  let substr = str.substring(0, sizeFamily.index)\n  if ((weight = weightRe.exec(substr))) font.weight = weight[1]\n  if ((style = styleRe.exec(substr))) font.style = style[1]\n  if ((variant = variantRe.exec(substr))) font.variant = variant[1]\n  if ((stretch = stretchRe.exec(substr))) font.stretch = stretch[1]\n\n  // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75\n      break\n    case 'pc':\n      font.size *= 16\n      break\n    case 'in':\n      font.size *= 96\n      break\n    case 'cm':\n      font.size *= 96.0 / 2.54\n      break\n    case 'mm':\n      font.size *= 96.0 / 25.4\n      break\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75\n      break\n    case 'q':\n      font.size *= 96 / 25.4 / 4\n      break\n  }\n\n  return (cache[str] = font)\n}\n","'use strict';\n\n/*!\n * Canvas - PDFStream\n */\n\nvar Readable = require('stream').Readable;\nvar util = require('util');\n\nvar PDFStream = module.exports = function PDFStream(canvas, options) {\n  if (!(this instanceof PDFStream)) {\n    throw new TypeError(\"Class constructors cannot be invoked without 'new'\");\n  }\n\n  Readable.call(this);\n\n  this.canvas = canvas;\n  this.options = options;\n};\n\nutil.inherits(PDFStream, Readable);\n\nfunction noop() {}\n\nPDFStream.prototype._read = function _read() {\n  // For now we're not controlling the c++ code's data emission, so we only\n  // call canvas.streamPDFSync once and let it emit data at will.\n  this._read = noop;\n  var self = this;\n  self.canvas.streamPDFSync(function(err, chunk, len){\n    if (err) {\n      self.emit('error', err);\n    } else if (len) {\n      self.push(chunk);\n    } else {\n      self.push(null);\n    }\n  }, this.options);\n};\n","'use strict';\n\n/*!\n * Canvas - PNGStream\n * Copyright (c) 2010 LearnBoost <tj@learnboost.com>\n * MIT Licensed\n */\n\nvar Readable = require('stream').Readable;\nvar util = require('util');\n\nvar PNGStream = module.exports = function PNGStream(canvas, options) {\n  if (!(this instanceof PNGStream)) {\n    throw new TypeError(\"Class constructors cannot be invoked without 'new'\");\n  }\n\n  Readable.call(this);\n\n  if (options &&\n    options.palette instanceof Uint8ClampedArray &&\n    options.palette.length % 4 !== 0) {\n    throw new Error(\"Palette length must be a multiple of 4.\");\n  }\n  this.canvas = canvas;\n  this.options = options || {};\n};\n\nutil.inherits(PNGStream, Readable);\n\nfunction noop() {}\n\nPNGStream.prototype._read = function _read() {\n  // For now we're not controlling the c++ code's data emission, so we only\n  // call canvas.streamPNGSync once and let it emit data at will.\n  this._read = noop;\n  var self = this;\n  self.canvas.streamPNGSync(function(err, chunk, len){\n    if (err) {\n      self.emit('error', err);\n    } else if (len) {\n      self.push(chunk);\n    } else {\n      self.push(null);\n    }\n  }, self.options);\n};\n","'use strict';\nconst PassThrough = require('stream').PassThrough;\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\t// TODO: Use Array#includes when targeting Node.js 6\n\tif (['gzip', 'deflate'].indexOf(response.headers['content-encoding']) === -1) {\n\t\treturn response;\n\t}\n\n\tconst unzip = zlib.createUnzip();\n\tconst stream = new PassThrough();\n\n\tmimicResponse(response, stream);\n\n\tunzip.on('error', err => {\n\t\tif (err.code === 'Z_BUF_ERROR') {\n\t\t\tstream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tstream.emit('error', err);\n\t});\n\n\tresponse.pipe(unzip).pipe(stream);\n\n\treturn stream;\n};\n","'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProps = [\n\t'destroy',\n\t'setTimeout',\n\t'socket',\n\t'headers',\n\t'trailers',\n\t'rawHeaders',\n\t'statusCode',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'rawTrailers',\n\t'statusMessage'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tconst fromProps = new Set(Object.keys(fromStream).concat(knownProps));\n\n\tfor (const prop of fromProps) {\n\t\t// Don't overwrite existing properties\n\t\tif (prop in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\ttoStream[prop] = typeof fromStream[prop] === 'function' ? fromStream[prop].bind(fromStream) : fromStream[prop];\n\t}\n};\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","module.exports = function (stream, cb) {\n  var chunks = []\n  stream.on('data', function (chunk) {\n    chunks.push(chunk)\n  })\n  stream.once('end', function () {\n    if (cb) cb(null, Buffer.concat(chunks))\n    cb = null\n  })\n  stream.once('error', function (err) {\n    if (cb) cb(err)\n    cb = null\n  })\n}\n","module.exports = simpleGet\n\nconst concat = require('simple-concat')\nconst decompressResponse = require('decompress-response') // excluded from browser build\nconst http = require('http')\nconst https = require('https')\nconst once = require('once')\nconst querystring = require('querystring')\nconst url = require('url')\n\nconst isStream = o => o !== null && typeof o === 'object' && typeof o.pipe === 'function'\n\nfunction simpleGet (opts, cb) {\n  opts = Object.assign({ maxRedirects: 10 }, typeof opts === 'string' ? { url: opts } : opts)\n  cb = once(cb)\n\n  if (opts.url) {\n    const { hostname, port, protocol, auth, path } = url.parse(opts.url)\n    delete opts.url\n    if (!hostname && !port && !protocol && !auth) opts.path = path // Relative redirect\n    else Object.assign(opts, { hostname, port, protocol, auth, path }) // Absolute redirect\n  }\n\n  const headers = { 'accept-encoding': 'gzip, deflate' }\n  if (opts.headers) Object.keys(opts.headers).forEach(k => (headers[k.toLowerCase()] = opts.headers[k]))\n  opts.headers = headers\n\n  let body\n  if (opts.body) {\n    body = opts.json && !isStream(opts.body) ? JSON.stringify(opts.body) : opts.body\n  } else if (opts.form) {\n    body = typeof opts.form === 'string' ? opts.form : querystring.stringify(opts.form)\n    opts.headers['content-type'] = 'application/x-www-form-urlencoded'\n  }\n\n  if (body) {\n    if (!opts.method) opts.method = 'POST'\n    if (!isStream(body)) opts.headers['content-length'] = Buffer.byteLength(body)\n    if (opts.json && !opts.form) opts.headers['content-type'] = 'application/json'\n  }\n  delete opts.body; delete opts.form\n\n  if (opts.json) opts.headers.accept = 'application/json'\n  if (opts.method) opts.method = opts.method.toUpperCase()\n\n  const protocol = opts.protocol === 'https:' ? https : http // Support http/https urls\n  const req = protocol.request(opts, res => {\n    if (res.statusCode >= 300 && res.statusCode < 400 && res.headers.location) {\n      opts.url = res.headers.location // Follow 3xx redirects\n      delete opts.headers.host // Discard `host` header on redirect (see #32)\n      res.resume() // Discard response\n\n      if (opts.method === 'POST' && [301, 302].includes(res.statusCode)) {\n        opts.method = 'GET' // On 301/302 redirect, change POST to GET (see #35)\n        delete opts.headers['content-length']; delete opts.headers['content-type']\n      }\n\n      if (opts.maxRedirects-- === 0) return cb(new Error('too many redirects'))\n      else return simpleGet(opts, cb)\n    }\n\n    const tryUnzip = typeof decompressResponse === 'function' && opts.method !== 'HEAD'\n    cb(null, tryUnzip ? decompressResponse(res) : res)\n  })\n  req.on('timeout', () => {\n    req.abort()\n    cb(new Error('Request timed out'))\n  })\n  req.on('error', cb)\n\n  if (isStream(body)) body.on('error', cb).pipe(req)\n  else req.end(body)\n\n  return req\n}\n\nsimpleGet.concat = (opts, cb) => {\n  return simpleGet(opts, (err, res) => {\n    if (err) return cb(err)\n    concat(res, (err, data) => {\n      if (err) return cb(err)\n      if (opts.json) {\n        try {\n          data = JSON.parse(data.toString())\n        } catch (err) {\n          return cb(err, res, data)\n        }\n      }\n      cb(null, res, data)\n    })\n  })\n}\n\n;['get', 'post', 'put', 'patch', 'head', 'delete'].forEach(method => {\n  simpleGet[method] = (opts, cb) => {\n    if (typeof opts === 'string') opts = {url: opts}\n    return simpleGet(Object.assign({ method: method.toUpperCase() }, opts), cb)\n  }\n})\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"querystring\");","module.exports = require(\"stream\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");"],"sourceRoot":""}